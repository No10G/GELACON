# GELACON
このアプリについて
スキーやスノーボードをする人が、
「今日のゲレンデの状態はどうなんだろう？」を簡単にチェックできるWebアプリです

## 概要
このWebアプリは、スキー場のゲレンデ状態（雪面の質）を自動で判別する予測システム
スキー場で安全に遊んだり、効率よく練習したりをサポート！

## 機能
雪面の状態は4つのパターンに分類

1. 神バーン:ボードのエッジが良く雪に食いつきカービングやトリックがやりやすい

2. パウダー:前夜の積雪により、硬い雪面に新雪が積もり、ふわふわの状態のこと

3. アイスバーン:深夜の急激な冷え込みにより、日中に温められた雪面が氷、雪面がスケートリンクのようになり危険

4. シャバ雪・ゴロゴロ:雪面が日中暖められ水分を持った状態の雪をシャバ雪と呼び、
   それが夜間急速に凍るとゴロゴロとした雪になる。
   
### 特徴量
これらを判別するために、気象庁の過去の1990年から2020年の12,1,2,3月のデータ
(最高最低気温・降水量・降雪量など)から特徴量を計算しXGboostを用いて機械学習をさせています。
現在算出している特徴点は8個です。

#### 特徴量変数名
- MaxSnowDepth						最深積雪量
   
- Snowfall								予測日の降雪量
   
- AvgWindSpeed						平均風速
  
- Adj_Temp_Min						補正後最低気温		
	地表の最低気温をコースの標高まで補正したもの。夜間の雪面温度を示す。

- Night_Chill_Factor			急冷度				
	(前日の補正後最高気温) − (当日の補正後最低気温)。夜間の締まりやすさを示す。

- Cumulative_Heat_History	累積熱履歴  
	補正後最高気温が 0∘C を超えた分の累積　雪解けの歴史と雪の水分量を示す。

- Surface_Hardening_Risk	雪面硬化リスク		
	風による乾燥/締まりと低温の複合リスクを示す。

- Course_Elev							ゲレンデ内のコース標高
  
#### ファイル説明
+ streamlit_app.py 							webへの表示 グラフ生成など
+ CF_yuzawa_minakami.py					5日間先の気象予報データ取得(API)
+ P_yuzawa_minakami_deta.py 		過去7日間の気象データ取得(Webスクリプト)
+ CF_data.json									5日間先の気象予報データ
+ past_data.json								過去7日間の気象データ
+ calculation.py								予報と過去のデータからモデルに与える特徴量を計算
+ XGBoost_Features_Cache.json		モデルに与える特徴量を計算したデータ
+ gelacon_predictor_model.pkl		XGboostモデル


  
